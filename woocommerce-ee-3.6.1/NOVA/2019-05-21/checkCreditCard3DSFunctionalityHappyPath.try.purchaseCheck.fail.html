<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" xml:space="preserve" src="/nssa/assets/jquery-1.11.1.js"></script>
		<script type="text/javascript" xml:space="preserve" src="/nssa/assets/jquery.i18n.properties-min-1.0.9.js"></script>
		<script type="text/javascript" xml:space="preserve" src="/nssa/assets/ee.i18n-1.0.js"></script>

		<script type="text/javascript" xml:space="preserve">
			/*<![CDATA[*/
            var _MERCHANT_ORIGIN = 'https://1558455042-woo-nova.ngrok.io',
                    _TRANSACTION_ID = 'vHVe9snJR6ibYaRzsrFqCg',
                    _MA_RESOLVER_CATEGORY = null,
                    _JSON_RESPONSE = {"completion_time_stamp":"20190521161431","merchant_account_id":"fd83dbfa-8790-4492-8391-3f3938908b28","request_id":"89ec0bc5ac2fddcd8fd2efcbe37b2c88c72b0fb7275a5692cf8241348d1b54fa","requested_amount":"75","requested_amount_currency":"EUR","status_code_1":"201.0000","status_description_1":"The resource was successfully created.","status_severity_1":"information","transaction_id":"vHVe9snJR6ibYaRzsrFqCg","transaction_state":"success","transaction_type":"check-signature","order_number":"60","merchant_origin":"https://1558455042-woo-nova.ngrok.io","payment_method":"creditcard"},
                    _THREAT_METRIX_URL = null;
            (function($) {
                $.eei18n.init({
                    "init_locale": null,
                    "custom_translations": null
                });
            })(jQuery);
            /*]]>*/
		</script>
		<script type="text/javascript" xml:space="preserve" src="/nssa/assets/seamless/seamlessWrapper.js"></script>
    <script type="text/javascript" src="/nssa/assets/bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="/nssa/assets/formvalidation/js/formValidation.js"></script>
    <script type="text/javascript" src="/nssa/assets/formvalidation/js/framework/bootstrap.js"></script>
    <script type="text/javascript" src="/nssa/assets/hpp/creditcard.helper.js"></script>
    <script type="text/javascript" src="/nssa/assets/hpp/bootstrapCustomValidator.js"></script>
    <link rel="stylesheet" type="text/css" href="/nssa/assets/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/nssa/assets/formvalidation/css/formValidation.css">
    <link rel="stylesheet" type="text/css" href="/nssa/assets/hpp/creditcard.helper.css">
    <script type="text/javascript" xml:space="preserve">/*<![CDATA[*/
    (function ($) {
        var isWindowsPhone = navigator.userAgent.match(/Windows Phone/i);
        $(document).ready(function () {
            $("#account_number").on("keyup", function (e) {
                handleCardNumber($(this), e.keyCode || e.which);
            }).on("paste", function () {
                var $this = $(this);
                setTimeout(function () {
                    handleCardNumber($this, -1);
                }, 10);
            });
            $(".card-types-div .btn").off().on("mousedown", function (e) {
                var $this = $(this);
                e.stopPropagation();
                if (!$this.hasClass("disabled")) {
                    $(".card-types-div .btn").removeClass("active");
                    $this.addClass("active");
                    handleAddonIcons($this.attr("data-ctype"));
                    setCardType($this.attr("data-ctype"), $this.attr("data-cvc-required"));
                    formatCardNumber();
                    setTimeout(function () {
                        $("#account_number").focus();
                    }, 300);
                }
            });
        });

        function handleCardNumber($cardNum, keyCode) {
            var dCType = $.WDHelper.Creditcard.detectCardType($cardNum), curType = $("#card_type").val();
            handleCardType($cardNum.val(), dCType, curType);
            formatCardNumber(keyCode);
        }

        function handleCardType(cardNum, dCType, curCType) {
            if (dCType) {
                $(".card-types-div .btn").each(function (i, btn) {
                    var $btn = $(btn), cType = $btn.attr("data-ctype");
                    if (cType == dCType) {
                        $btn.removeClass("disabled");
                        if (curCType != "cup" && curCType != "upi") {
                            $btn.addClass("active");
                            setCardType(curCType = cType, $btn.attr("data-cvc-required"));
                        }
                    } else if (cType != "cup" && cType != "upi") {
                        if (cType == curCType) {
                            setCardType(curCType = "", "false");
                        }
                        $btn.removeClass("active").addClass("disabled");
                    }
                });
            } else {
                if (!curCType || !cardNum || !cardNum.trim()) {
                    $(".card-types-div .btn").removeClass("active");
                    setCardType(curCType = "", "false");
                }
                $(".card-types-div .btn").removeClass("disabled");
            }
            handleAddonIcons(curCType ? curCType : dCType);
        }

        function setCardType(cType, cvcRequired) {
            $("#card_type").attr("data-cvc-required", cvcRequired).val(cType);
            if (cType) {
                $("#card_type").trigger("change");
            }
            $("#seamless-form").formValidation("revalidateField", "account_number");
            toggleCvcValidation();
            if (!isWindowsPhone) {
                $("#card_security_code").prop('maxLength', cType === 'amex' ? '4' : '3');
                $("#account_number").prop('maxLength', (cType === 'amex' || cType === 'diners') ? '36' : '42');
            }
        }

        function formatCardNumber(keyCode) {
            $.WDHelper.Creditcard.formatCCWithPosition($("#account_number"), $("#card_type"), keyCode);
        }

        function toggleCvcValidation() {
            var $fv = $("#seamless-form").data("formValidation");
            if ($("#card_security_code").val() || $fv.getStatus("card_security_code", "promise") != "NOT_VALIDATED") {
                $fv.revalidateField("card_security_code");
            }
            if ($("#card_type").attr("data-cvc-required") == "true") {
                $("#cvv_optional_label").hide();
            } else {
                $("#cvv_optional_label").show();
            }
        }

        function handleAddonIcons(cType) {
            $(".ctype-addon-icon").attr("class", "ctype-addon-icon");
            $(".cvv-addon-icon").attr("class", "cvv-addon-icon");
            if (cType) {
                $(".ctype-addon-icon").addClass(cType + "-ctype-icon").attr("title", cType.toUpperCase());
                if (cType == "amex") {
                    $(".cvv-addon-icon").addClass("amex-cvv-icon");
                } else {
                    $(".cvv-addon-icon").addClass("default-cvv-icon");
                }
            } else {
                var $fv = $("#seamless-form").data("formValidation");
                if ($fv.getStatus("account_number", "promise") == "VALID") {
                    $(".ctype-addon-icon").addClass("not-detected-ctype-icon").attr("title", "N/A");
                    $(".cvv-addon-icon").addClass("default-cvv-icon");
                } else {
                    $(".ctype-addon-icon").addClass("unknown-ctype-icon").removeAttr("title");
                    $(".cvv-addon-icon").addClass("unknown-cvv-icon");
                }
            }
        }
    })(jQuery);
    /*]]>*/</script></head></html>